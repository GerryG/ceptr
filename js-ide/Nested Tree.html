<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<title>Nested Tree Mockup</title>
</head><body id="tree-editor" style="font-family:Verdana,Helvetica,Helv,Sans; font-size:12pt;">
<style type="text/css">
  #tree-editor div { display: inline-block; padding: 3px 3px 1px 3px; margin-left: 5px; background-color: rgba(80,0,0,.1); }
</style>

<div>def symbol
 <div>label = "Home Location"</div>
 <div>latlong</div>
</div>
<p>&nbsp;</p>

<div>def structure
 <div>label = "latlong"</div>
 <div>surface
  <div>lat</div>
  <div>long</div>
 </div>
 <div>process
  <div>distance
   <div>complicated sphere wrapping formula</div>
  </div>
 </div>
</div>
<p>&nbsp;</p>

<div>EXPECTATION <br/>
 <div>On HTTP_Request</div>
 <div>Expect .*/HOST{value="geekgene.com"}</div>
 <div>Do 
 <div>if
  <div>expr
   <div>=
    <div>x</div>
    <div>10</div>
   </div>
  </div>
  <div>then
   <div>
 	<div>if
 	 <div>expr
 	  <div>=
 	   <div>x</div>
 	   <div>10</div>
 	  </div>
 	 </div>
 	 <div>then
 	  <div>some proc tree</div>
 	 </div>
 	 <div>else
 	  <div>some other proc tree</div>
 	 </div>
 	</div>
   </div>
  </div>
  <div>else
   <div>
    <div>if
 	 <div>expr
 	  <div>=
 	   <div>x</div>
 	   <div>10</div>
 	  </div>
 	 </div>
 	 <div>then
 	  <div>some proc tree</div>
 	 </div>
 	 <div>else
 	  <div>some other proc tree</div>
 	 </div>
 	</div>
   </div>
  </div>
 </div>
 </div>
 <div>With SessionInitParams <div>Instance = 48</div></div>
</div>
<p>&nbsp;</p>

<hr/>
<p>This is just a quick experiment with the CSS (1 selector with 4 properties). I could probably make it sexier, but it's pretty darn readable from both text and tree perspectives, I think.</p>
<p>Try playing around with the width of the window and watch how the structure adapts.  I don't think it's fully cross-browser compatible, but seems fine in Chrome, Firefox and IE 11 (9 and up, I think)</p>
<p>Some strange/noteworthy issues come up when thinking about translating typed text to trees.
<ul>
 <li>I don't think we want to require parens when we can use syntactical context.</li>
 <li>For many processes, we probably want to have keywords indicate advancing to next branch (almost like parens, but not paired... we could manually pop up by typing a close_paren (or other special key) and not display the paren just change the tree formatting/placement of cursor).</li>
 <ul>
  <li>e.g. If {first-child} Then {second-child} Else {third-child}</li>
  <li>e.g. On {first-child} Expect {second-child} Do {third-child} With {fourth-child}</li>
 </ul>
 <li>In fact, I think we'd want to prepopulate the next child keywords and be able to tab into their slot to type (tab then press {delete} to delete optional ones like ELSE or WITH).</li>
 <li>Where/How do we store such keyword sequence associations? Label Table?</li>
 <li>It doesn't make a lot of sense to display Symbols as def trees like above. A label table view would be much more useful.</li>
 <li>It also seems like we could make a simple def-symbol button or something to generate those kinds of entries. </li>
 <li>Similarly, it seems fairly easy to build a Structure Def tool for everything up until the process defs... which is where we switch back to the coding style originally describe above.  So "coding" is always for writing processes. We can make a pretty simple UI for def-building so that constructing the semantic trees for content which work slightly differently than code, don't get confused with process trees.</li>
</ul>
</p>
<p>Whad'ya think?</p>

</body></html>