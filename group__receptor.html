<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>ceptr: Receptors</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ceptr
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__receptor.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Receptors</div>  </div>
</div><!--header-->
<div class="contents">

<p>Receptors provide the fundamental coherence contexts for ceptr.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:process_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process_8c.html">process.c</a></td></tr>
<tr class="memdesc:process_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">implementation of ceptr processing: instructions and run tree reduction <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:process_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process_8h.html">process.h</a></td></tr>
<tr class="memdesc:process_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">processing header files <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:receptor_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="receptor_8c.html">receptor.c</a></td></tr>
<tr class="memdesc:receptor_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">receptor implementation <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:receptor_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="receptor_8h.html">receptor.h</a></td></tr>
<tr class="memdesc:receptor_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">receptor implementation header file <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa7a993bb2e321fff32e1bc0741dddde0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa7a993bb2e321fff32e1bc0741dddde0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>spec_is_symbol_equal</b>(r, got, expected)&#160;&#160;&#160;spec_total++; if (expected==got){putchar('.');} else {putchar('F');sprintf(failures[spec_failures++],&quot;%s:%d expected %s to be %s but was %s&quot;,__FUNCTION__,__LINE__,#got,_r_get_symbol_name(r,expected),_r_get_symbol_name(r,got));}</td></tr>
<tr class="separator:gaa7a993bb2e321fff32e1bc0741dddde0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5f33711ac4da299b54ccfa583d9378c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa5f33711ac4da299b54ccfa583d9378c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>spec_is_structure_equal</b>(r, got, expected)&#160;&#160;&#160;spec_total++; if (expected==got){putchar('.');} else {putchar('F');sprintf(failures[spec_failures++],&quot;%s:%d expected %s to be %s but was %s&quot;,__FUNCTION__,__LINE__,#got,_r_get_structure_name(r,expected),_r_get_structure_name(r,got));}</td></tr>
<tr class="separator:gaa5f33711ac4da299b54ccfa583d9378c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga8675b50a924c478ce5f25009d0d24e2e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8675b50a924c478ce5f25009d0d24e2e"></a>
typedef int&#160;</td><td class="memItemRight" valign="bottom"><b>Aspect</b></td></tr>
<tr class="separator:ga8675b50a924c478ce5f25009d0d24e2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga06fc87d81c62e9abb8790b6e5713c55b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga06fc87d81c62e9abb8790b6e5713c55b"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>DEFAULT_ASPECT</b> =1
 }</td></tr>
<tr class="separator:ga06fc87d81c62e9abb8790b6e5713c55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga62c253e7cc1d1ad20471913ae822ebc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga62c253e7cc1d1ad20471913ae822ebc2">_r_new</a> (Symbol s)</td></tr>
<tr class="memdesc:ga62c253e7cc1d1ad20471913ae822ebc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new receptor.  <a href="#ga62c253e7cc1d1ad20471913ae822ebc2">More...</a><br /></td></tr>
<tr class="separator:ga62c253e7cc1d1ad20471913ae822ebc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19ac9a15990a9c657a9ad73cf768bab1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga19ac9a15990a9c657a9ad73cf768bab1">_r_new_receptor_from_package</a> (Symbol s, <a class="el" href="structTnode.html">Tnode</a> *p, <a class="el" href="structTnode.html">Tnode</a> *bindings)</td></tr>
<tr class="memdesc:ga19ac9a15990a9c657a9ad73cf768bab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new receptor from a receptor package.  <a href="#ga19ac9a15990a9c657a9ad73cf768bab1">More...</a><br /></td></tr>
<tr class="separator:ga19ac9a15990a9c657a9ad73cf768bab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace908c1f9cf6df32014310dca991785b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gace908c1f9cf6df32014310dca991785b">_r_add_listener</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, Aspect aspect, Symbol carrier, <a class="el" href="structTnode.html">Tnode</a> *semtrex, <a class="el" href="structTnode.html">Tnode</a> *action)</td></tr>
<tr class="separator:gace908c1f9cf6df32014310dca991785b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f650808029d4c598ebe6515d9900ef8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a> (<a class="el" href="structReceptor.html">Receptor</a> *r)</td></tr>
<tr class="separator:ga6f650808029d4c598ebe6515d9900ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga436d69cd861739b56bb32b7bf6f315ab"><td class="memItemLeft" align="right" valign="top">Symbol&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga436d69cd861739b56bb32b7bf6f315ab">_r_declare_symbol</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, Structure s, char *label)</td></tr>
<tr class="separator:ga436d69cd861739b56bb32b7bf6f315ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacce906c9de30765f458599777b72be90"><td class="memItemLeft" align="right" valign="top">Symbol&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gacce906c9de30765f458599777b72be90">_r_get_symbol_by_label</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, char *label)</td></tr>
<tr class="separator:gacce906c9de30765f458599777b72be90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae291bec8771c13074164984b08db4874"><td class="memItemLeft" align="right" valign="top">Structure&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gae291bec8771c13074164984b08db4874">_r_define_structure</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, char *label, int num_params,...)</td></tr>
<tr class="separator:gae291bec8771c13074164984b08db4874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba7efd4ebd9a5e6b737355fbc45d9a50"><td class="memItemLeft" align="right" valign="top">Structure&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gaba7efd4ebd9a5e6b737355fbc45d9a50">_r_get_structure_by_label</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, char *label)</td></tr>
<tr class="separator:gaba7efd4ebd9a5e6b737355fbc45d9a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga120e66982d483fbe004fd969cf1c353f"><td class="memItemLeft" align="right" valign="top">Structure&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga120e66982d483fbe004fd969cf1c353f">__r_get_symbol_structure</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, Symbol s)</td></tr>
<tr class="memdesc:ga120e66982d483fbe004fd969cf1c353f"><td class="mdescLeft">&#160;</td><td class="mdescRight">find a symbol's structure  <a href="#ga120e66982d483fbe004fd969cf1c353f">More...</a><br /></td></tr>
<tr class="separator:ga120e66982d483fbe004fd969cf1c353f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad886d976f8621ebb22d02c61f454265c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gad886d976f8621ebb22d02c61f454265c">__r_get_symbol_size</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, Symbol s, void *surface)</td></tr>
<tr class="separator:gad886d976f8621ebb22d02c61f454265c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e74b03c99199c3a27b3e09be43c2964"><td class="memItemLeft" align="right" valign="top">Process&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga2e74b03c99199c3a27b3e09be43c2964">_r_code_process</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structTnode.html">Tnode</a> *code, char *name, char *intention, <a class="el" href="structTnode.html">Tnode</a> *in, <a class="el" href="structTnode.html">Tnode</a> *out)</td></tr>
<tr class="separator:ga2e74b03c99199c3a27b3e09be43c2964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7ed83880a8bb8be0de01ae73b44d13a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gad7ed83880a8bb8be0de01ae73b44d13a">_r_build_def_semtrex</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, Symbol s, <a class="el" href="structTnode.html">Tnode</a> *parent)</td></tr>
<tr class="separator:gad7ed83880a8bb8be0de01ae73b44d13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8978934f20256d927a9f035c2eeafd8d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga8978934f20256d927a9f035c2eeafd8d">_r_def_match</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, Symbol s, <a class="el" href="structTnode.html">Tnode</a> *t)</td></tr>
<tr class="separator:ga8978934f20256d927a9f035c2eeafd8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2dbe9e8a4ca9c5b3afbb43743ab19a6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structXaddr.html">Xaddr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga2dbe9e8a4ca9c5b3afbb43743ab19a6b">_r_new_instance</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structTnode.html">Tnode</a> *t)</td></tr>
<tr class="separator:ga2dbe9e8a4ca9c5b3afbb43743ab19a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49768dace37ae4974471268fa197f953"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga49768dace37ae4974471268fa197f953">_r_get_instance</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structXaddr.html">Xaddr</a> x)</td></tr>
<tr class="separator:ga49768dace37ae4974471268fa197f953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad137f4d3b94172a7a2e78c1a1c632efa"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gad137f4d3b94172a7a2e78c1a1c632efa">__t_serialize</a> (<a class="el" href="structTnode.html">Tnode</a> *t, void **bufferP, size_t offset, size_t current_size, int compact)</td></tr>
<tr class="separator:gad137f4d3b94172a7a2e78c1a1c632efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac34a126b4fafa1ecf89ae79f3c986336"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gac34a126b4fafa1ecf89ae79f3c986336">_t_serialize</a> (<a class="el" href="structTnode.html">Tnode</a> *t, void **surfaceP, size_t *lengthP)</td></tr>
<tr class="separator:gac34a126b4fafa1ecf89ae79f3c986336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e737841784555574a0d90ad2eff4cc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga3e737841784555574a0d90ad2eff4cc4">_r_serialize</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, void **surfaceP, size_t *lengthP)</td></tr>
<tr class="separator:ga3e737841784555574a0d90ad2eff4cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga300b11b12792c290fef2fb0fe07d71ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga300b11b12792c290fef2fb0fe07d71ee">_r_unserialize</a> (void *surface)</td></tr>
<tr class="separator:ga300b11b12792c290fef2fb0fe07d71ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae251d0cfa84e1edbbe12d3489aa29d1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gae251d0cfa84e1edbbe12d3489aa29d1e">_r_send</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structReceptor.html">Receptor</a> *from, Aspect aspect, <a class="el" href="structTnode.html">Tnode</a> *signal)</td></tr>
<tr class="separator:gae251d0cfa84e1edbbe12d3489aa29d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21d4509b97577b9e8e71e4e03873bd02"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga21d4509b97577b9e8e71e4e03873bd02"></a>
<a class="el" href="structTnode.html">Tnode</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>__r_get_aspect</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, Aspect aspect)</td></tr>
<tr class="separator:ga21d4509b97577b9e8e71e4e03873bd02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab66e760e7143a7b04a49dfe71e104518"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab66e760e7143a7b04a49dfe71e104518"></a>
<a class="el" href="structTnode.html">Tnode</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>__r_get_listeners</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, Aspect aspect)</td></tr>
<tr class="separator:gab66e760e7143a7b04a49dfe71e104518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc7dcde2338776c7af71c885671e3087"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gacc7dcde2338776c7af71c885671e3087"></a>
<a class="el" href="structTnode.html">Tnode</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>__r_get_signals</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, Aspect aspect)</td></tr>
<tr class="separator:gacc7dcde2338776c7af71c885671e3087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5cafc7054a5a1fc7af911904d01d45a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5cafc7054a5a1fc7af911904d01d45a5"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>_td</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structTnode.html">Tnode</a> *t)</td></tr>
<tr class="separator:ga5cafc7054a5a1fc7af911904d01d45a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga337c85de8d4519ff7eae30b349baf010"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga337c85de8d4519ff7eae30b349baf010"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>_r_get_structure_name</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, Structure s)</td></tr>
<tr class="separator:ga337c85de8d4519ff7eae30b349baf010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf10f1cdd7f9d47e637f9034de0310bbd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf10f1cdd7f9d47e637f9034de0310bbd"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>_r_get_symbol_name</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, Symbol s)</td></tr>
<tr class="separator:gaf10f1cdd7f9d47e637f9034de0310bbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad1696e79c7630020a718c2a3f3d5a37"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaad1696e79c7630020a718c2a3f3d5a37"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>_dump_semtrex</b> (<a class="el" href="structTnode.html">Tnode</a> *s, char *buf)</td></tr>
<tr class="separator:gaad1696e79c7630020a718c2a3f3d5a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Receptors provide the fundamental coherence contexts for ceptr. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad886d976f8621ebb22d02c61f454265c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t __r_get_symbol_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Symbol&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>surface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>get the size of a symbol's surface </p><dl class="section return"><dt>Returns</dt><dd>size </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00211">211</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga120e66982d483fbe004fd969cf1c353f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Structure __r_get_symbol_structure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Symbol&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>find a symbol's structure </p>
<dl class="section return"><dt>Returns</dt><dd>structure id </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00196">196</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad137f4d3b94172a7a2e78c1a1c632efa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t __t_serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>bufferP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>current_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>compact</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Serialize a tree by recursive descent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>tree to be serialized </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferP</td><td>a pointer to a malloced ptr of "current_size" which will be realloced if serialized tree is bigger than initial buffer allocation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>current offset into buffer at which to put serialized data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">current_size</td><td>size of buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">compact</td><td>boolean to indicate whether to add in extra information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the length that was added to the buffer</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo:</a></b></dt><dd>compact is really a shorthand for whether this is a fixed size tree or not this should actually be determined on the fly by looking at the structure types. </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00362">362</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gace908c1f9cf6df32014310dca991785b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _r_add_listener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Aspect&#160;</td>
          <td class="paramname"><em>aspect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Symbol&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>expectation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds an expectation/action pair to a receptor's aspect. </p>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00067">67</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad7ed83880a8bb8be0de01ae73b44d13a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTnode.html">Tnode</a>* _r_build_def_semtrex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Symbol&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Walks the definition of a symbol to build a semtrex that would match that definiton</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>the receptor context in which things are defined </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>the symbol to build a semtrex for </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>the parent semtrex node because this function calls itself recursively. Pass in 0 to start. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completed semtrex </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>currently this won't detect an incorrect strcture with extra children. This is because we don't haven't yet implemented the equivalent of "$" for semtrex. </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00225">225</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2e74b03c99199c3a27b3e09be43c2964"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Process _r_code_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>intention</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>add a new process coding to a receptor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>the receptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>the code tree for this process </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>the name of the process </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">intention</td><td>a description of what the process intends to do/transform </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>the input signature for the process </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>the output signature for the process </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new Process </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00173">173</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga436d69cd861739b56bb32b7bf6f315ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Symbol _r_declare_symbol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Structure&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>define a new symbol</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>receptor to provide a structural context for symbol declarations </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>the structure type for this symbol </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">label</td><td>a c-string label for this symbol </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new Symbol </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00136">136</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga8978934f20256d927a9f035c2eeafd8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _r_def_match </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Symbol&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine whether a tree matches a symbol definition, both structural and semantic</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>the receptor context in which things are defined </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>the symbol we expect this tree to be </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>the tree to match </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true or false depending on the match</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>currently this just matches on a semtrex. It should also look at the surface sizes to see if they meet the criteria of the structure definitions. </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00255">255</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae291bec8771c13074164984b08db4874"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Structure _r_define_structure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>define a new structure</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>receptor to provide a semantic context for new structure definitions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>the structure type for this symbol </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">label</td><td>a c-string label for this symbol </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_params</td><td>number of symbols in the structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">...</td><td>variable list of Symbol type symbols </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new Structure </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00152">152</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6f650808029d4c598ebe6515d9900ef8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _r_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys a receptor freeing all memory it uses. </p>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00096">96</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga49768dace37ae4974471268fa197f953"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTnode.html">Tnode</a>* _r_get_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structXaddr.html">Xaddr</a>&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>retrieve the instance for a given xaddr</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>the receptor context in which things are defined </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>the xaddr of the instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the instance tree</dd></dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"></div><!-- fragment -->
<p>Definition at line <a class="el" href="receptor_8c_source.html#l00315">315</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaba7efd4ebd9a5e6b737355fbc45d9a50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Structure _r_get_structure_by_label </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>find a symbol give its label </p>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00188">188</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gacce906c9de30765f458599777b72be90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Symbol _r_get_symbol_by_label </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>find a symbol give its label </p>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00181">181</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga62c253e7cc1d1ad20471913ae822ebc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structReceptor.html">Receptor</a>* _r_new </td>
          <td>(</td>
          <td class="paramtype">Symbol&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new receptor. </p>
<p>allocates all the memory needed in the heap</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>symbol for this receptor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to a newly allocated <a class="el" href="structReceptor.html">Receptor</a></dd></dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"><div class="line">    <a class="code" href="structReceptor.html">Receptor</a> *<a class="code" href="structVMHost.html#a218d2e91e129dee7c71e1b06ff533a6e">r</a>;</div>
<div class="line">    r = <a class="code" href="group__receptor.html#ga62c253e7cc1d1ad20471913ae822ebc2">_r_new</a>(TEST_RECEPTOR_SYMBOL);</div>
<div class="line"></div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#gabfc4da7bf9475fb3bad4ea20b5f78fab">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#a7a280e923e97768c67f90303bcf8c152">root</a>),TEST_RECEPTOR_SYMBOL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *t;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// test that the symbols, structures &amp; process trees are set up correctly</span></div>
<div class="line">    t = _t_child(r-&gt;<a class="code" href="structReceptor.html#a7a280e923e97768c67f90303bcf8c152">root</a>,1);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#gabfc4da7bf9475fb3bad4ea20b5f78fab">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#a81c4e6049350d0577334fdda48f4260a">structures</a>),STRUCTURES);</div>
<div class="line">    spec_is_ptr_equal(t,r-&gt;<a class="code" href="structReceptor.html#a81c4e6049350d0577334fdda48f4260a">structures</a>);</div>
<div class="line">    t = _t_child(r-&gt;<a class="code" href="structReceptor.html#a7a280e923e97768c67f90303bcf8c152">root</a>,2);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#gabfc4da7bf9475fb3bad4ea20b5f78fab">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#aeb5c0f81a92048d264308e7610ac39a3">symbols</a>),SYMBOLS);</div>
<div class="line">    spec_is_ptr_equal(t,r-&gt;<a class="code" href="structReceptor.html#aeb5c0f81a92048d264308e7610ac39a3">symbols</a>);</div>
<div class="line">    t = _t_child(r-&gt;<a class="code" href="structReceptor.html#a7a280e923e97768c67f90303bcf8c152">root</a>,3);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#gabfc4da7bf9475fb3bad4ea20b5f78fab">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#a4edc9ff2f77054d3ad49547617c2d556">processes</a>),PROCESSES);</div>
<div class="line">    spec_is_ptr_equal(t,r-&gt;<a class="code" href="structReceptor.html#a4edc9ff2f77054d3ad49547617c2d556">processes</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// test that listeners and signals are set up correctly on the default aspect</span></div>
<div class="line">    t = __r_get_listeners(r,DEFAULT_ASPECT);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#gabfc4da7bf9475fb3bad4ea20b5f78fab">_t_symbol</a>(t),<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3a897aa439587c20afc15c9cf8a12b0611">LISTENERS</a>);</div>
<div class="line">    t = __r_get_signals(r,DEFAULT_ASPECT);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#gabfc4da7bf9475fb3bad4ea20b5f78fab">_t_symbol</a>(t),<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3a1cad60194b57d18e09fff2a1b6c3b192">SIGNALS</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// test that the flux is set up correctly</span></div>
<div class="line">    t = _t_child(r-&gt;<a class="code" href="structReceptor.html#a7a280e923e97768c67f90303bcf8c152">root</a>,4);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#gabfc4da7bf9475fb3bad4ea20b5f78fab">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#a622c4885a917e9249fa213ccf47b04ff">flux</a>),<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3aa76c44edb76686fa1bbda9ebe69c7857">FLUX</a>);</div>
<div class="line">    spec_is_ptr_equal(t,r-&gt;<a class="code" href="structReceptor.html#a622c4885a917e9249fa213ccf47b04ff">flux</a>);</div>
<div class="line">    t = _t_child(r-&gt;<a class="code" href="structReceptor.html#a622c4885a917e9249fa213ccf47b04ff">flux</a>,1);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#gabfc4da7bf9475fb3bad4ea20b5f78fab">_t_symbol</a>(t),ASPECT);</div>
<div class="line">    spec_is_equal(*(<span class="keywordtype">int</span> *)<a class="code" href="group__tree.html#ga5a292a02511c82863edfcaa72fa9698c">_t_surface</a>(t),DEFAULT_ASPECT);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a>(r);</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="receptor_8c_source.html#l00044">44</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2dbe9e8a4ca9c5b3afbb43743ab19a6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structXaddr.html">Xaddr</a> _r_new_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new instance of a tree</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>the receptor context in which things are defined </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>the tree to instantiate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>xaddr of the instance</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo:</a></b></dt><dd>currently stores instances as extra-children on the def tree, this will actually be handled by interacting with the data-engine!</dd></dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"></div><!-- fragment -->
<p>Definition at line <a class="el" href="receptor_8c_source.html#l00277">277</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga19ac9a15990a9c657a9ad73cf768bab1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structReceptor.html">Receptor</a>* _r_new_receptor_from_package </td>
          <td>(</td>
          <td class="paramtype">Symbol&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>bindings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new receptor from a receptor package. </p>
<p>allocates all the memory needed in the heap, cloning the various parts from the package</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>symbol for this receptor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to a newly allocated <a class="el" href="structReceptor.html">Receptor</a> </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>implement bindings </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00057">57</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae251d0cfa84e1edbbe12d3489aa29d1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTnode.html">Tnode</a>* _r_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Aspect&#160;</td>
          <td class="paramname"><em>aspect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>signal_contents</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>for now the signal is appended directly to the flux. Later it should probably be copied </dd></dl>
<p>Send a signal to a receptor on a given aspect</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td><a class="el" href="structReceptor.html">Receptor</a> to serialize </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from</td><td>source <a class="el" href="structReceptor.html">Receptor</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aspect</td><td>Aspect over which the message will be sent </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signal_contents</td><td>the message to be sent, which will be wrapped in a SIGNAL</td></tr>
  </table>
  </dd>
</dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"><div class="line">    <a class="code" href="structReceptor.html">Receptor</a> *r = <a class="code" href="group__receptor.html#ga62c253e7cc1d1ad20471913ae822ebc2">_r_new</a>(TEST_RECEPTOR_SYMBOL);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// The signal is an HTTP request</span></div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *signal = <a class="code" href="http__example_8h.html#a00c3c0cf4519afa3c2906864d9f99c25">_makeTestHTTPRequestTree</a>(); <span class="comment">// GET /groups/5/users.json?sort_by=last_name?page=2 HTTP/1.0</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// our expectation should match on the first path segment</span></div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *expect = <a class="code" href="group__tree.html#ga17676267c6fb457dd1d086f37641544a">_t_new_root</a>(<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3af6d94b1598900ddce4908373a5f528e8">EXPECTATION</a>);</div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *req = <a class="code" href="group__tree.html#gab438eeedb3eb6c1e20171b33d8ec499d">_t_newi</a>(expect,<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3a24fed94b1bdcacc4989e256136ad750c">SEMTREX_SYMBOL_LITERAL</a>,TSYM_HTTP_REQUEST);</div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *seq = <a class="code" href="group__tree.html#gaff88720dad09389f6b7f35f7985d8efd">_t_newr</a>(req,<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3a2bcf9a9f55a6002b167918d9657788b7">SEMTREX_SEQUENCE</a>);</div>
<div class="line">    <a class="code" href="group__tree.html#gaff88720dad09389f6b7f35f7985d8efd">_t_newr</a>(seq,<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3a9a67b424e6a6adfe23cd3432642109f5">SEMTREX_SYMBOL_ANY</a>);  <span class="comment">// skips the Version</span></div>
<div class="line">    <a class="code" href="group__tree.html#gaff88720dad09389f6b7f35f7985d8efd">_t_newr</a>(seq,<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3a9a67b424e6a6adfe23cd3432642109f5">SEMTREX_SYMBOL_ANY</a>);  <span class="comment">// skips over the Method</span></div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *path = <a class="code" href="group__tree.html#gab438eeedb3eb6c1e20171b33d8ec499d">_t_newi</a>(seq,<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3a24fed94b1bdcacc4989e256136ad750c">SEMTREX_SYMBOL_LITERAL</a>,TSYM_HTTP_REQUEST_PATH);</div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *segs = <a class="code" href="group__tree.html#gab438eeedb3eb6c1e20171b33d8ec499d">_t_newi</a>(path,<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3a24fed94b1bdcacc4989e256136ad750c">SEMTREX_SYMBOL_LITERAL</a>,TSYM_HTTP_REQUEST_PATH_SEGMENTS);</div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *g = <a class="code" href="group__tree.html#gab438eeedb3eb6c1e20171b33d8ec499d">_t_newi</a>(segs,<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3a5b54d3166ed65522d1b0b557a91b5316">SEMTREX_GROUP</a>,TSYM_HTTP_REQUEST_PATH_SEGMENT);</div>
<div class="line">    <a class="code" href="group__tree.html#gab438eeedb3eb6c1e20171b33d8ec499d">_t_newi</a>(g,<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3a24fed94b1bdcacc4989e256136ad750c">SEMTREX_SYMBOL_LITERAL</a>,TSYM_HTTP_REQUEST_PATH_SEGMENT);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *result;</div>
<div class="line">    <span class="keywordtype">int</span> matched;</div>
<div class="line">    <span class="comment">// make sure our expectation semtrex actually matches the signal</span></div>
<div class="line">    spec_is_true(matched = <a class="code" href="group__semtrex.html#gaa43317db10f85873435792afb5c1cd4a">_t_matchr</a>(req,signal,&amp;result));</div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *m = <a class="code" href="group__semtrex.html#gaa4419dc4f940274606f85a88d52949e7">_t_get_match</a>(result,TSYM_HTTP_REQUEST_PATH_SEGMENT);</div>
<div class="line">    <span class="keywordtype">char</span> buf[2000];</div>
<div class="line">    __t_dump(test_HTTP_symbols,m,0,buf);</div>
<div class="line">    spec_is_str_equal(buf,<span class="stringliteral">&quot; (SEMTREX_MATCH:HTTP_REQUEST_PATH_SEGMENT (SEMTREX_MATCHED_PATH:/3/1/1) (SEMTREX_MATCH_SIBLINGS_COUNT:1))&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (result) {</div>
<div class="line">    <a class="code" href="group__tree.html#gac9311eb831d86ab8395f9c1c81f584d9">_t_free</a>(result);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// the action simply responds back with the method that was originally sent</span></div>
<div class="line">    <span class="comment">// this test should be made more real... but for now it responds back with a ping</span></div>
<div class="line">    <span class="comment">// like message that is what the first path segment was</span></div>
<div class="line"></div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *resp = <a class="code" href="group__tree.html#ga17676267c6fb457dd1d086f37641544a">_t_new_root</a>(<a class="code" href="sys__processes_8h.html#a1e1d7c20f4c895eb9e21e7ef34708a07a64c5ec914c978938d6ed4d420c099c8a">RESPOND</a>);</div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *n = <a class="code" href="group__tree.html#gaff88720dad09389f6b7f35f7985d8efd">_t_newr</a>(resp,<a class="code" href="sys__processes_8h.html#a1e1d7c20f4c895eb9e21e7ef34708a07a32422b0c037a5e196f197711c8d49589">INTERPOLATE_FROM_MATCH</a>);</div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *http_resp = <a class="code" href="group__tree.html#gaff88720dad09389f6b7f35f7985d8efd">_t_newr</a>(n,TSYM_HTTP_RESPONSE);</div>
<div class="line">    <a class="code" href="group__tree.html#ga23646bb375d548b8bdce934f694b1741">_t_new</a>(http_resp,TSYM_HTTP_RESPONSE_CONTENT_TYPE,<span class="stringliteral">&quot;CeptrSymbol/HTTP_REQUEST_PATH_SEGMENT&quot;</span>,38);</div>
<div class="line">    <a class="code" href="group__tree.html#gab438eeedb3eb6c1e20171b33d8ec499d">_t_newi</a>(http_resp,<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3ae0e51bb381564e3d460f0352172e0c40">INTERPOLATE_SYMBOL</a>,TSYM_HTTP_REQUEST_PATH_SEGMENT);</div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *input = <a class="code" href="group__tree.html#ga17676267c6fb457dd1d086f37641544a">_t_new_root</a>(INPUT_SIGNATURE);</div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *output = <a class="code" href="group__tree.html#ga17676267c6fb457dd1d086f37641544a">_t_new_root</a>(OUTPUT_SIGNATURE);</div>
<div class="line">    Process p = <a class="code" href="group__receptor.html#ga2e74b03c99199c3a27b3e09be43c2964">_r_code_process</a>(r,resp,<span class="stringliteral">&quot;code path ping&quot;</span>,<span class="stringliteral">&quot;respond with the first segment of the code path&quot;</span>,input,output);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *act = <a class="code" href="group__tree.html#ga88b91532333a81992610dce1e0a4dbae">_t_newp</a>(0,<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3ae1bb1460cb779888412e634e983be161">ACTION</a>,p);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__receptor.html#gace908c1f9cf6df32014310dca991785b">_r_add_listener</a>(r,DEFAULT_ASPECT,TSYM_HTTP_REQUEST,expect,act);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *s = <a class="code" href="group__receptor.html#gae251d0cfa84e1edbbe12d3489aa29d1e">_r_send</a>(r,r,DEFAULT_ASPECT,signal);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#gabfc4da7bf9475fb3bad4ea20b5f78fab">_t_symbol</a>(s),<a class="code" href="sys__symbols_8h.html#ab0f6206b340472c7ace01d1e9d4b87f3a480882f626731b7fa7fc7caf12d8cb66">SIGNAL</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// the result should be signal tree with the matched PATH_SEGMENT returned as the body</span></div>
<div class="line">    result = _t_child(_t_child(s,1),1);</div>
<div class="line">    __t_dump(test_HTTP_symbols,result,0,buf);</div>
<div class="line">    spec_is_str_equal(buf,<span class="stringliteral">&quot; (HTTP_RESPONSE (HTTP_RESPONSE_CONTENT_TYPE:CeptrSymbol/HTTP_REQUEST_PATH_SEGMENT) (HTTP_REQUEST_PATH_SEGMENT:groups))&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a>(r);</div>
</div><!-- fragment --><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>move this to adding the runtree to the thread pool </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>results should actually be a what? success/failure of send </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00488">488</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3e737841784555574a0d90ad2eff4cc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _r_serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>surfaceP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>lengthP</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Serialize a receptor</p>
<p>Allocates a buffer for and serializes a receptor into the buffer</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td><a class="el" href="structReceptor.html">Receptor</a> to serialize </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">surfaceP</td><td>pointer to a void * to hold the resulting serialized data </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">lengthP</td><td>pointer to a size_t to hold the resulting serialized data length</td></tr>
  </table>
  </dd>
</dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"><div class="line"></div>
<div class="line">    <a class="code" href="structReceptor.html">Receptor</a> *r = <a class="code" href="group__receptor.html#ga62c253e7cc1d1ad20471913ae822ebc2">_r_new</a>(TEST_RECEPTOR_SYMBOL);</div>
<div class="line">    Symbol lat,lon,house_loc;</div>
<div class="line">    Structure latlong;</div>
<div class="line">    <a class="code" href="receptor__spec_8h.html#a98dc4c2784ade9388f0b5aad95d78aae">defineHouseLocation</a>(r,&amp;lat,&amp;lon,&amp;latlong,&amp;house_loc);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// create a house location tree</span></div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *t = <a class="code" href="group__tree.html#ga17676267c6fb457dd1d086f37641544a">_t_new_root</a>(house_loc);</div>
<div class="line">    <span class="keywordtype">float</span> ll[] = {132.5,92.3};</div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *t_lat = <a class="code" href="group__tree.html#ga23646bb375d548b8bdce934f694b1741">_t_new</a>(t,lat,&amp;ll[0],<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *t_lon = <a class="code" href="group__tree.html#ga23646bb375d548b8bdce934f694b1741">_t_new</a>(t,lon,&amp;ll[1],<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structXaddr.html">Xaddr</a> x = <a class="code" href="group__receptor.html#ga2dbe9e8a4ca9c5b3afbb43743ab19a6b">_r_new_instance</a>(r,t);</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">void</span> *surface;</div>
<div class="line">    <span class="keywordtype">size_t</span> length;</div>
<div class="line">    <span class="keywordtype">char</span> buf[2000];</div>
<div class="line">    <span class="keywordtype">char</span> buf1[2000];</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__receptor.html#ga3e737841784555574a0d90ad2eff4cc4">_r_serialize</a>(r,&amp;surface,&amp;length);</div>
<div class="line"></div>
<div class="line">    spec_is_long_equal(length,250);</div>
<div class="line">    spec_is_long_equal(*(<span class="keywordtype">size_t</span> *)surface,250);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structReceptor.html">Receptor</a> *r1 = <a class="code" href="group__receptor.html#ga300b11b12792c290fef2fb0fe07d71ee">_r_unserialize</a>(surface);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// check that the structures look the same by comparing a string dump of the two</span></div>
<div class="line">    <span class="comment">// receptors</span></div>
<div class="line">    __t_dump(r-&gt;<a class="code" href="structReceptor.html#aeb5c0f81a92048d264308e7610ac39a3">symbols</a>,r-&gt;<a class="code" href="structReceptor.html#a7a280e923e97768c67f90303bcf8c152">root</a>,0,buf);</div>
<div class="line">    __t_dump(r1-&gt;<a class="code" href="structReceptor.html#aeb5c0f81a92048d264308e7610ac39a3">symbols</a>,r1-&gt;<a class="code" href="structReceptor.html#a7a280e923e97768c67f90303bcf8c152">root</a>,0,buf1);</div>
<div class="line">    spec_is_str_equal(buf1,buf);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// check that the unserialized receptor has the labels loaded into the label table</span></div>
<div class="line">    <span class="keywordtype">int</span> *path = labelGet(&amp;r1-&gt;<a class="code" href="structReceptor.html#a2f7dc587ff971db209316cde561d0cd0">table</a>,<span class="stringliteral">&quot;latitude&quot;</span>);</div>
<div class="line">    <span class="keywordtype">int</span> p[] = {2,1,TREE_PATH_TERMINATOR};</div>
<div class="line">    spec_is_path_equal(path,p);</div>
<div class="line">    spec_is_equal(<a class="code" href="group__receptor.html#gacce906c9de30765f458599777b72be90">_r_get_symbol_by_label</a>(r1,<span class="stringliteral">&quot;latitude&quot;</span>),lat);</div>
<div class="line">    spec_is_equal(<a class="code" href="group__receptor.html#gaba7efd4ebd9a5e6b737355fbc45d9a50">_r_get_structure_by_label</a>(r1,<span class="stringliteral">&quot;latlong&quot;</span>),latlong);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// check that the unserialized receptor has all the instances loaded into the instance store too</span></div>
<div class="line">    <a class="code" href="structTnode.html">Tnode</a> *t1 = <a class="code" href="group__receptor.html#ga49768dace37ae4974471268fa197f953">_r_get_instance</a>(r1,x);</div>
<div class="line">    buf[0] = buf1[0] = 0;</div>
<div class="line">    __t_dump(r-&gt;<a class="code" href="structReceptor.html#aeb5c0f81a92048d264308e7610ac39a3">symbols</a>,t,0,buf);</div>
<div class="line">    __t_dump(r1-&gt;<a class="code" href="structReceptor.html#aeb5c0f81a92048d264308e7610ac39a3">symbols</a>,t1,0,buf1);</div>
<div class="line">    spec_is_str_equal(buf1,buf);</div>
<div class="line"></div>
<div class="line">    free(surface);</div>
<div class="line">    <a class="code" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a>(r);</div>
<div class="line">    <a class="code" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a>(r1);</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="receptor_8c_source.html#l00399">399</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga300b11b12792c290fef2fb0fe07d71ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structReceptor.html">Receptor</a>* _r_unserialize </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>surface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unserialize a receptor</p>
<p>Given a serialized receptor, return an instantiated receptor tree with label table</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">surface</td><td>serialized receptor data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structReceptor.html">Receptor</a> </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00443">443</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac34a126b4fafa1ecf89ae79f3c986336"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _t_serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTnode.html">Tnode</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>surfaceP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>lengthP</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Serialize a tree.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>tree to be serialized </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">surfaceP</td><td>a pointer to a buffer that will be malloced </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">lengthP</td><td>the serialized length of the tree </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00342">342</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Sep 12 2014 15:03:29 for ceptr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
