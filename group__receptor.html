<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>ceptr: Receptors</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ceptr
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__receptor.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Receptors</div>  </div>
</div><!--header-->
<div class="contents">

<p>Receptors provide the fundamental coherence contexts for ceptr.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:process_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process_8c.html">process.c</a></td></tr>
<tr class="memdesc:process_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">implementation of ceptr processing: instructions and run tree reduction <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:process_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process_8h.html">process.h</a></td></tr>
<tr class="memdesc:process_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">processing header files <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:receptor_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="receptor_8c.html">receptor.c</a></td></tr>
<tr class="memdesc:receptor_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">receptor implementation <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:receptor_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="receptor_8h.html">receptor.h</a></td></tr>
<tr class="memdesc:receptor_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">receptor implementation header file <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:scape_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scape_8c.html">scape.c</a></td></tr>
<tr class="memdesc:scape_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">implementation of scapes <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:scape_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scape_8h.html">scape.h</a></td></tr>
<tr class="memdesc:scape_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">scape header files <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga071c5d041e46874412aa9eef6ab5d19c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga071c5d041e46874412aa9eef6ab5d19c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>is_null_symbol</b>(s)&#160;&#160;&#160;((s).flags == 0 &amp;&amp; (s).context == 0 &amp;&amp; (s).id == 0)</td></tr>
<tr class="separator:ga071c5d041e46874412aa9eef6ab5d19c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebca30e5763de19a93797f180d5b217e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaebca30e5763de19a93797f180d5b217e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>is_null_xaddr</b>(x)&#160;&#160;&#160;(is_null_symbol(x.symbol) &amp;&amp; (x).addr == 0)</td></tr>
<tr class="separator:gaebca30e5763de19a93797f180d5b217e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45fa6003cdfcef73aa54bb5b440617f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga45fa6003cdfcef73aa54bb5b440617f1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>is_xaddr_eq</b>(x, y)&#160;&#160;&#160;(semeq(x.symbol,y.symbol) &amp;&amp; (x).addr == (y).addr)</td></tr>
<tr class="separator:ga45fa6003cdfcef73aa54bb5b440617f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7a993bb2e321fff32e1bc0741dddde0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa7a993bb2e321fff32e1bc0741dddde0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>spec_is_symbol_equal</b>(r, got, expected)&#160;&#160;&#160;spec_total++; if (semeq(expected,got)){putchar('.');} else {putchar('F');sprintf(failures[spec_failures++],&quot;%s:%d expected %s to be %s but was %s&quot;,__FUNCTION__,__LINE__,#got,_r_get_symbol_name(r,expected),_r_get_symbol_name(r,got));}</td></tr>
<tr class="separator:gaa7a993bb2e321fff32e1bc0741dddde0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5f33711ac4da299b54ccfa583d9378c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa5f33711ac4da299b54ccfa583d9378c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>spec_is_structure_equal</b>(r, got, expected)&#160;&#160;&#160;spec_total++; if (semeq(expected,got)){putchar('.');} else {putchar('F');sprintf(failures[spec_failures++],&quot;%s:%d expected %s to be %s but was %s&quot;,__FUNCTION__,__LINE__,#got,_r_get_structure_name(r,expected),_r_get_structure_name(r,got));}</td></tr>
<tr class="separator:gaa5f33711ac4da299b54ccfa583d9378c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf7ee981a0e2c2fc955fb32f7d6f2861"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaaf7ee981a0e2c2fc955fb32f7d6f2861"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>spec_is_process_equal</b>(r, got, expected)&#160;&#160;&#160;spec_total++; if (semeq(expected,got)){putchar('.');} else {putchar('F');sprintf(failures[spec_failures++],&quot;%s:%d expected %s to be %s but was %s&quot;,__FUNCTION__,__LINE__,#got,_r_get_process_name(r,expected),_r_get_process_name(r,got));}</td></tr>
<tr class="separator:gaaf7ee981a0e2c2fc955fb32f7d6f2861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4db8f49b8fa0a099ba5ad2797ba1d33e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4db8f49b8fa0a099ba5ad2797ba1d33e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>spec_is_xaddr_equal</b>(r, got, expected)&#160;&#160;&#160;spec_total++; if (is_xaddr_eq(got,expected)){putchar('.');} else {putchar('F');sprintf(failures[spec_failures++],&quot;%s:%d expected %s to be %s.%d but was %s.%d&quot;,__FUNCTION__,__LINE__,#got,!is_null_symbol(expected.symbol)?_r_get_symbol_name(r,expected.symbol):&quot;0&quot;,expected.addr,!is_null_symbol(got.symbol) ? _r_get_symbol_name(r,got.symbol):&quot;0&quot;,got.addr);}</td></tr>
<tr class="separator:ga4db8f49b8fa0a099ba5ad2797ba1d33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga8675b50a924c478ce5f25009d0d24e2e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8675b50a924c478ce5f25009d0d24e2e"></a>
typedef int&#160;</td><td class="memItemRight" valign="bottom"><b>Aspect</b></td></tr>
<tr class="separator:ga8675b50a924c478ce5f25009d0d24e2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga99fb83031ce9923c84392b4e92f956b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga99fb83031ce9923c84392b4e92f956b5"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>DEFAULT_ASPECT</b> =1
 }</td></tr>
<tr class="separator:ga99fb83031ce9923c84392b4e92f956b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74b55187933c4b54ef8ed7b7423b8f28"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga74b55187933c4b54ef8ed7b7423b8f28"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>AspectType</b> { <b>EXTERNAL_ASPECT</b> =0, 
<b>INTERNAL_ASPECT</b>
 }</td></tr>
<tr class="separator:ga74b55187933c4b54ef8ed7b7423b8f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga62c253e7cc1d1ad20471913ae822ebc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga62c253e7cc1d1ad20471913ae822ebc2">_r_new</a> (<a class="el" href="structSemanticID.html">Symbol</a> s)</td></tr>
<tr class="memdesc:ga62c253e7cc1d1ad20471913ae822ebc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new receptor.  <a href="#ga62c253e7cc1d1ad20471913ae822ebc2">More...</a><br /></td></tr>
<tr class="separator:ga62c253e7cc1d1ad20471913ae822ebc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a6afdc039a31cdf24bf93dd0475b72b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga7a6afdc039a31cdf24bf93dd0475b72b">_r_new_receptor_from_package</a> (<a class="el" href="structSemanticID.html">Symbol</a> s, <a class="el" href="structT.html">T</a> *p, <a class="el" href="structT.html">T</a> *bindings)</td></tr>
<tr class="memdesc:ga7a6afdc039a31cdf24bf93dd0475b72b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new receptor from a receptor package.  <a href="#ga7a6afdc039a31cdf24bf93dd0475b72b">More...</a><br /></td></tr>
<tr class="separator:ga7a6afdc039a31cdf24bf93dd0475b72b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80c1796d444a4085537ba54c2d7b10e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga80c1796d444a4085537ba54c2d7b10e6">_r_add_listener</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, Aspect aspect, <a class="el" href="structSemanticID.html">Symbol</a> carrier, <a class="el" href="structT.html">T</a> *semtrex, <a class="el" href="structT.html">T</a> *action)</td></tr>
<tr class="separator:ga80c1796d444a4085537ba54c2d7b10e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f650808029d4c598ebe6515d9900ef8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a> (<a class="el" href="structReceptor.html">Receptor</a> *r)</td></tr>
<tr class="separator:ga6f650808029d4c598ebe6515d9900ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga645381abc5b870dd686bd6731bba3703"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSemanticID.html">SemanticID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga645381abc5b870dd686bd6731bba3703">__set_label_for_def</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, char *label, <a class="el" href="structT.html">T</a> *def, int type)</td></tr>
<tr class="separator:ga645381abc5b870dd686bd6731bba3703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga436d69cd861739b56bb32b7bf6f315ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSemanticID.html">Symbol</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga436d69cd861739b56bb32b7bf6f315ab">_r_declare_symbol</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structSemanticID.html">Structure</a> s, char *label)</td></tr>
<tr class="separator:ga436d69cd861739b56bb32b7bf6f315ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacce906c9de30765f458599777b72be90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSemanticID.html">Symbol</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gacce906c9de30765f458599777b72be90">_r_get_symbol_by_label</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, char *label)</td></tr>
<tr class="separator:gacce906c9de30765f458599777b72be90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae291bec8771c13074164984b08db4874"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSemanticID.html">Structure</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gae291bec8771c13074164984b08db4874">_r_define_structure</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, char *label, int num_params,...)</td></tr>
<tr class="separator:gae291bec8771c13074164984b08db4874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba7efd4ebd9a5e6b737355fbc45d9a50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSemanticID.html">Structure</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gaba7efd4ebd9a5e6b737355fbc45d9a50">_r_get_structure_by_label</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, char *label)</td></tr>
<tr class="separator:gaba7efd4ebd9a5e6b737355fbc45d9a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga120e66982d483fbe004fd969cf1c353f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSemanticID.html">Structure</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga120e66982d483fbe004fd969cf1c353f">__r_get_symbol_structure</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structSemanticID.html">Symbol</a> s)</td></tr>
<tr class="memdesc:ga120e66982d483fbe004fd969cf1c353f"><td class="mdescLeft">&#160;</td><td class="mdescRight">find a symbol's structure  <a href="#ga120e66982d483fbe004fd969cf1c353f">More...</a><br /></td></tr>
<tr class="separator:ga120e66982d483fbe004fd969cf1c353f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad886d976f8621ebb22d02c61f454265c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gad886d976f8621ebb22d02c61f454265c">__r_get_symbol_size</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structSemanticID.html">Symbol</a> s, void *surface)</td></tr>
<tr class="separator:gad886d976f8621ebb22d02c61f454265c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f2d04de5c4be090823af4a3ef8ad9c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSemanticID.html">Process</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga7f2d04de5c4be090823af4a3ef8ad9c1">_r_code_process</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structT.html">T</a> *code, char *name, char *intention, <a class="el" href="structT.html">T</a> *in, <a class="el" href="structT.html">T</a> *out)</td></tr>
<tr class="separator:ga7f2d04de5c4be090823af4a3ef8ad9c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63078117d8c6850455a4419fd9b6b784"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structT.html">T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga63078117d8c6850455a4419fd9b6b784">_r_build_def_semtrex</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structSemanticID.html">Symbol</a> s)</td></tr>
<tr class="separator:ga63078117d8c6850455a4419fd9b6b784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8c97a2acf18af02e4e582d15932640c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gaa8c97a2acf18af02e4e582d15932640c">_r_def_match</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structSemanticID.html">Symbol</a> s, <a class="el" href="structT.html">T</a> *t)</td></tr>
<tr class="separator:gaa8c97a2acf18af02e4e582d15932640c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33902456689b691f4094c48bd676ed68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga33902456689b691f4094c48bd676ed68">_r_install_protocol</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, int idx, char *role, Aspect aspect)</td></tr>
<tr class="separator:ga33902456689b691f4094c48bd676ed68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd08a3c284251a2ec7e03b8f91eddc5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structXaddr.html">Xaddr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gadd08a3c284251a2ec7e03b8f91eddc5c">_r_new_instance</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structT.html">T</a> *t)</td></tr>
<tr class="separator:gadd08a3c284251a2ec7e03b8f91eddc5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc618904f81240b244e816234d1c906e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structT.html">T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gadc618904f81240b244e816234d1c906e">_r_get_instance</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structXaddr.html">Xaddr</a> x)</td></tr>
<tr class="separator:gadc618904f81240b244e816234d1c906e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1570f1fca510bdaf19d044592ee035ce"><td class="memItemLeft" align="right" valign="top">TreeHash&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga1570f1fca510bdaf19d044592ee035ce">_r_hash</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structXaddr.html">Xaddr</a> t)</td></tr>
<tr class="separator:ga1570f1fca510bdaf19d044592ee035ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e737841784555574a0d90ad2eff4cc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga3e737841784555574a0d90ad2eff4cc4">_r_serialize</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, void **surfaceP, size_t *lengthP)</td></tr>
<tr class="separator:ga3e737841784555574a0d90ad2eff4cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga300b11b12792c290fef2fb0fe07d71ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga300b11b12792c290fef2fb0fe07d71ee">_r_unserialize</a> (void *surface)</td></tr>
<tr class="separator:ga300b11b12792c290fef2fb0fe07d71ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga475101caa9d56e6398d93dc3b4c9b616"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structT.html">T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#ga475101caa9d56e6398d93dc3b4c9b616">__r_make_signal</a> (<a class="el" href="structXaddr.html">Xaddr</a> from, <a class="el" href="structXaddr.html">Xaddr</a> to, Aspect aspect, <a class="el" href="structT.html">T</a> *signal_contents)</td></tr>
<tr class="separator:ga475101caa9d56e6398d93dc3b4c9b616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6111b5348cffbc1e1aad1d9d6c1e4ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structT.html">T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__receptor.html#gaa6111b5348cffbc1e1aad1d9d6c1e4ff">_r_deliver</a> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structT.html">T</a> *signal)</td></tr>
<tr class="separator:gaa6111b5348cffbc1e1aad1d9d6c1e4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d832bc4fd6b86ba0cb523166711c3a1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6d832bc4fd6b86ba0cb523166711c3a1"></a>
<a class="el" href="structT.html">T</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>__r_get_aspect</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, Aspect aspect)</td></tr>
<tr class="separator:ga6d832bc4fd6b86ba0cb523166711c3a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga638aa054bbcc81cdb79a819cb0f917ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga638aa054bbcc81cdb79a819cb0f917ac"></a>
<a class="el" href="structT.html">T</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>__r_get_listeners</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, Aspect aspect)</td></tr>
<tr class="separator:ga638aa054bbcc81cdb79a819cb0f917ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf76e6bfe4883569ebfb83c40fe2c37e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf76e6bfe4883569ebfb83c40fe2c37e9"></a>
<a class="el" href="structT.html">T</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>__r_get_signals</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, Aspect aspect)</td></tr>
<tr class="separator:gaf76e6bfe4883569ebfb83c40fe2c37e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69b03a529a561587fd222221fb9b1751"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga69b03a529a561587fd222221fb9b1751"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>_td</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structT.html">T</a> *t)</td></tr>
<tr class="separator:ga69b03a529a561587fd222221fb9b1751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga337c85de8d4519ff7eae30b349baf010"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga337c85de8d4519ff7eae30b349baf010"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>_r_get_structure_name</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structSemanticID.html">Structure</a> s)</td></tr>
<tr class="separator:ga337c85de8d4519ff7eae30b349baf010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf10f1cdd7f9d47e637f9034de0310bbd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf10f1cdd7f9d47e637f9034de0310bbd"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>_r_get_symbol_name</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structSemanticID.html">Symbol</a> s)</td></tr>
<tr class="separator:gaf10f1cdd7f9d47e637f9034de0310bbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16d730727540e2be8140618c3e8d8026"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga16d730727540e2be8140618c3e8d8026"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>_r_get_process_name</b> (<a class="el" href="structReceptor.html">Receptor</a> *r, <a class="el" href="structSemanticID.html">Process</a> p)</td></tr>
<tr class="separator:ga16d730727540e2be8140618c3e8d8026"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga30f156c899683f59a13cfb7b4df6fbd6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga30f156c899683f59a13cfb7b4df6fbd6"></a>
<a class="el" href="structXaddr.html">Xaddr</a>&#160;</td><td class="memItemRight" valign="bottom"><b>G_null_xaddr</b></td></tr>
<tr class="separator:ga30f156c899683f59a13cfb7b4df6fbd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Receptors provide the fundamental coherence contexts for ceptr. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad886d976f8621ebb22d02c61f454265c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t __r_get_symbol_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSemanticID.html">Symbol</a>&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>surface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>get the size of a symbol's surface </p><dl class="section return"><dt>Returns</dt><dd>size </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00244">244</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga120e66982d483fbe004fd969cf1c353f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSemanticID.html">Structure</a> __r_get_symbol_structure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSemanticID.html">Symbol</a>&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>find a symbol's structure </p>
<dl class="section return"><dt>Returns</dt><dd>structure id </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00229">229</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga475101caa9d56e6398d93dc3b4c9b616"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structT.html">T</a>* __r_make_signal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structXaddr.html">Xaddr</a>&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structXaddr.html">Xaddr</a>&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Aspect&#160;</td>
          <td class="paramname"><em>aspect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>signal_contents</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>build a signal</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">from</td><td>source <a class="el" href="structReceptor.html">Receptor</a> <a class="el" href="structXaddr.html">Xaddr</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">to</td><td>destination <a class="el" href="structReceptor.html">Receptor</a> <a class="el" href="structXaddr.html">Xaddr</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aspect</td><td>Aspect over which the message will be sent </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signal_contents</td><td>the message to be sent, which will be wrapped in a SIGNAL </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>signal should have timestamps and other meta info </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00455">455</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga645381abc5b870dd686bd6731bba3703"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSemanticID.html">SemanticID</a> __set_label_for_def </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>we use this for labeling symbols, structures and processes because labels store the full path to the labeled item and we want the labels to be unique across all three </p>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00136">136</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga80c1796d444a4085537ba54c2d7b10e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _r_add_listener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Aspect&#160;</td>
          <td class="paramname"><em>aspect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSemanticID.html">Symbol</a>&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>expectation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds an expectation/action pair to a receptor's aspect. </p>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00095">95</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga63078117d8c6850455a4419fd9b6b784"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structT.html">T</a>* _r_build_def_semtrex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSemanticID.html">Symbol</a>&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Walks the definition of a symbol to build a semtrex that would match that definiton</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>the receptor context in which things are defined </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>the symbol to build a semtrex for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completed semtrex </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00255">255</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7f2d04de5c4be090823af4a3ef8ad9c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSemanticID.html">Process</a> _r_code_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>intention</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>add a new process coding to a receptor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>the receptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>the code tree for this process </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>the name of the process </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">intention</td><td>a description of what the process intends to do/transform </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>the input signature for the process </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>the output signature for the process </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new Process </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00206">206</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga436d69cd861739b56bb32b7bf6f315ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSemanticID.html">Symbol</a> _r_declare_symbol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSemanticID.html">Structure</a>&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>define a new symbol</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>receptor to provide a structural context for symbol declarations </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>the structure type for this symbol </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">label</td><td>a c-string label for this symbol </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new Symbol </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00169">169</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa8c97a2acf18af02e4e582d15932640c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _r_def_match </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSemanticID.html">Symbol</a>&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine whether a tree matches a symbol definition, both structural and semantic</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>the receptor context in which things are defined </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>the symbol we expect this tree to be </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>the tree to match </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true or false depending on the match</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo:</a></b></dt><dd>currently this just matches on a semtrex. It should also look at the surface sizes to see if they meet the criteria of the structure definitions.</dd></dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"><div class="line">    <a class="code" href="structReceptor.html">Receptor</a> *<a class="code" href="structVMHost.html#a218d2e91e129dee7c71e1b06ff533a6e">r</a> = <a class="code" href="group__receptor.html#ga62c253e7cc1d1ad20471913ae822ebc2">_r_new</a>(TEST_RECEPTOR_SYMBOL);</div>
<div class="line">    <a class="code" href="structSemanticID.html">Symbol</a> lat,lon,house_loc;</div>
<div class="line">    <a class="code" href="structSemanticID.html">Structure</a> latlong;</div>
<div class="line">    <a class="code" href="receptor__spec_8h.html#a98dc4c2784ade9388f0b5aad95d78aae">defineHouseLocation</a>(r,&amp;lat,&amp;lon,&amp;latlong,&amp;house_loc);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structT.html">T</a> *t = <a class="code" href="group__tree.html#ga25dd0f385044ffbcc7c215ea80fa00b4">_t_new_root</a>(house_loc);</div>
<div class="line">    <span class="keywordtype">float</span> x = 99.0;</div>
<div class="line">    <a class="code" href="structT.html">T</a> *t_lat = <a class="code" href="group__tree.html#ga6ecbb70ce62a6c61f04ff8d0707101e4">_t_new</a>(t,lat,&amp;x,<span class="keyword">sizeof</span>(x));</div>
<div class="line">    <a class="code" href="structT.html">T</a> *t_lon = <a class="code" href="group__tree.html#ga6ecbb70ce62a6c61f04ff8d0707101e4">_t_new</a>(t,lon,&amp;x,<span class="keyword">sizeof</span>(x));</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structT.html">T</a> *stx = <a class="code" href="group__receptor.html#ga63078117d8c6850455a4419fd9b6b784">_r_build_def_semtrex</a>(r,house_loc);</div>
<div class="line">    <span class="keywordtype">char</span> buf[2000];</div>
<div class="line">    spec_is_str_equal(<a class="code" href="group__semtrex.html#ga614de2fa253b75fc34b41421a866ca62">_dump_semtrex</a>(&amp;r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>,stx,buf),<span class="stringliteral">&quot;/house location/(latitude,longitude)&quot;</span>);</div>
<div class="line">    __t_dump(&amp;r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>,stx,0,buf);</div>
<div class="line">    spec_is_str_equal(buf,<span class="stringliteral">&quot;(SEMTREX_SYMBOL_LITERAL (SEMTREX_SYMBOL:house location) (SEMTREX_SEQUENCE (SEMTREX_SYMBOL_LITERAL (SEMTREX_SYMBOL:latitude)) (SEMTREX_SYMBOL_LITERAL (SEMTREX_SYMBOL:longitude))))&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// a correctly structured tree should match its definition</span></div>
<div class="line">    spec_is_true(<a class="code" href="group__receptor.html#gaa8c97a2acf18af02e4e582d15932640c">_r_def_match</a>(r,house_loc,t));</div>
<div class="line"></div>
<div class="line">    <span class="comment">// a correctly structured tree with different semantics shouldn&#39;t match its definition</span></div>
<div class="line">    t_lon-&gt;contents.symbol = lat;</div>
<div class="line">    spec_is_true(!<a class="code" href="group__receptor.html#gaa8c97a2acf18af02e4e582d15932640c">_r_def_match</a>(r,house_loc,t));</div>
<div class="line"></div>
<div class="line">    <span class="comment">// an incorrectly structured tree (i.e. missing a child) shouldn&#39;t match its definition</span></div>
<div class="line">    <a class="code" href="group__tree.html#ga403644d86c835ceae71dc7af0356900f">_t_detach_by_idx</a>(t,2);</div>
<div class="line">    spec_is_true(!<a class="code" href="group__receptor.html#gaa8c97a2acf18af02e4e582d15932640c">_r_def_match</a>(r,house_loc,t));</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__tree.html#ga31e55cdc031e5f12523b998e89080db6">_t_free</a>(stx);</div>
<div class="line">    <a class="code" href="group__tree.html#ga31e55cdc031e5f12523b998e89080db6">_t_free</a>(t);</div>
<div class="line">    <a class="code" href="group__tree.html#ga31e55cdc031e5f12523b998e89080db6">_t_free</a>(t_lon);</div>
<div class="line">    <a class="code" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a>(r);</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="receptor_8c_source.html#l00273">273</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae291bec8771c13074164984b08db4874"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSemanticID.html">Structure</a> _r_define_structure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>define a new structure</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>receptor to provide a semantic context for new structure definitions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>the structure type for this symbol </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">label</td><td>a c-string label for this symbol </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_params</td><td>number of symbols in the structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">...</td><td>variable list of Symbol type symbols </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new Structure </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00185">185</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa6111b5348cffbc1e1aad1d9d6c1e4ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structT.html">T</a>* _r_deliver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>signal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000017">Todo:</a></b></dt><dd>for now the signal is appended directly to the flux. Later it should probably be copied </dd></dl>
<p>Send a signal to a receptor on a given aspect</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>destination receptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>signal to be delivered to the receptor</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>signals that were caused to be sent by processing the signal (reponses or side-effects)</dd></dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"><div class="line">    <a class="code" href="structReceptor.html">Receptor</a> *r = <a class="code" href="group__receptor.html#ga62c253e7cc1d1ad20471913ae822ebc2">_r_new</a>(TEST_RECEPTOR_SYMBOL);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// The signal is an HTTP request</span></div>
<div class="line">    <a class="code" href="structT.html">T</a> *signal_contents = <a class="code" href="http__example_8h.html#a1c182b5a6e82ef49c6967183a15c3e8b">_makeTestHTTPRequestTree</a>(); <span class="comment">// GET /groups/5/users.json?sort_by=last_name?page=2 HTTP/1.0</span></div>
<div class="line"></div>
<div class="line">    <a class="code" href="structXaddr.html">Xaddr</a> f = {RECEPTOR_XADDR,3};  <span class="comment">// DUMMY XADDR</span></div>
<div class="line">    <a class="code" href="structXaddr.html">Xaddr</a> t = {RECEPTOR_XADDR,4};  <span class="comment">// DUMMY XADDR</span></div>
<div class="line"></div>
<div class="line">    <a class="code" href="structT.html">T</a> *signal = <a class="code" href="group__receptor.html#ga475101caa9d56e6398d93dc3b4c9b616">__r_make_signal</a>(f,t,DEFAULT_ASPECT,signal_contents);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// our expectation should match on the first path segment</span></div>
<div class="line">    <span class="comment">// /HTTP_REQUEST/.,.,HTTP_REQUEST_PATH/HTTP_REQUEST_PATH_SEGMENTS/&lt;HTTP_REQUEST_PATH_SEGMENT:HTTP_REQUEST_PATH_SEGMENT&gt;</span></div>
<div class="line">    <a class="code" href="structT.html">T</a> *expect = <a class="code" href="group__tree.html#ga25dd0f385044ffbcc7c215ea80fa00b4">_t_new_root</a>(EXPECTATION);</div>
<div class="line">    <span class="keywordtype">char</span> *stx = <span class="stringliteral">&quot;/HTTP_REQUEST/(.,.,HTTP_REQUEST_PATH/HTTP_REQUEST_PATH_SEGMENTS/&lt;HTTP_REQUEST_PATH_SEGMENT:HTTP_REQUEST_PATH_SEGMENT&gt;)&quot;</span>;</div>
<div class="line">    <a class="code" href="structT.html">T</a> *req = <a class="code" href="group__semtrex.html#ga17eda8e5306b5764656d7edf3f5b15bd">parseSemtrex</a>(&amp;test_HTTP_defs,stx);</div>
<div class="line">    <a class="code" href="group__tree.html#ga3b7a6499fe49f8e6a54166d583b08d5c">_t_add</a>(expect,req);</div>
<div class="line"><span class="comment">/*    T *req = _t_news(expect,SEMTREX_SYMBOL_LITERAL,HTTP_REQUEST);</span></div>
<div class="line"><span class="comment">    T *seq = _t_newr(req,SEMTREX_SEQUENCE);</span></div>
<div class="line"><span class="comment">    _t_newr(seq,SEMTREX_SYMBOL_ANY);  // skips the Version</span></div>
<div class="line"><span class="comment">    _t_newr(seq,SEMTREX_SYMBOL_ANY);  // skips over the Method</span></div>
<div class="line"><span class="comment">    T *path = _t_news(seq,SEMTREX_SYMBOL_LITERAL,HTTP_REQUEST_PATH);</span></div>
<div class="line"><span class="comment">    T *segs = _t_news(path,SEMTREX_SYMBOL_LITERAL,HTTP_REQUEST_PATH_SEGMENTS);</span></div>
<div class="line"><span class="comment">    T *g = _t_news(segs,SEMTREX_GROUP,HTTP_REQUEST_PATH_SEGMENT);</span></div>
<div class="line"><span class="comment">    _t_news(g,SEMTREX_SYMBOL_LITERAL,HTTP_REQUEST_PATH_SEGMENT);</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// gotta load the defs into the receptor for printing things out to work right.</span></div>
<div class="line">    r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#a172e45e131e197571ba1a36a136d35f8">symbols</a> = <a class="code" href="group__tree.html#ga7535eb2963c6cf5fc78cb14287581f92">_t_clone</a>(test_HTTP_defs.<a class="code" href="structDefs.html#a172e45e131e197571ba1a36a136d35f8">symbols</a>);</div>
<div class="line">    r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#a6f9d3b3e38fff31326b7d27f730ae95c">structures</a> = <a class="code" href="group__tree.html#ga7535eb2963c6cf5fc78cb14287581f92">_t_clone</a>(test_HTTP_defs.<a class="code" href="structDefs.html#a6f9d3b3e38fff31326b7d27f730ae95c">structures</a>);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structT.html">T</a> *result;</div>
<div class="line">    <span class="keywordtype">int</span> matched;</div>
<div class="line">    <span class="comment">// make sure our expectation semtrex actually matches the signal</span></div>
<div class="line">    spec_is_true(<a class="code" href="group__semtrex.html#ga27540c8e1822da3160a0cc4717df410f">_t_matchr</a>(req,signal_contents,&amp;result));</div>
<div class="line">    <a class="code" href="structT.html">T</a> *m = <a class="code" href="group__semtrex.html#gada90f89374f4577e3ac8819e500a97a7">_t_get_match</a>(result,HTTP_REQUEST_PATH_SEGMENT);</div>
<div class="line"></div>
<div class="line">    spec_is_str_equal(_td(r,m),<span class="stringliteral">&quot;(SEMTREX_MATCH:1 (SEMTREX_MATCH_SYMBOL:HTTP_REQUEST_PATH_SEGMENT) (SEMTREX_MATCH_PATH:/3/1/1) (SEMTREX_MATCH_SIBLINGS_COUNT:1))&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (result) {</div>
<div class="line">    <a class="code" href="group__tree.html#ga31e55cdc031e5f12523b998e89080db6">_t_free</a>(result);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structSemanticID.html">Process</a> p = <a class="code" href="http__example_8h.html#a87e12efa7860d33966ce5f89ceba1f5c">_makeTestHTTPResponseProcess</a>(r);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structT.html">T</a> *act = <a class="code" href="group__tree.html#ga48ffc2a6e4aa4856b76fb53b97db87f3">_t_newp</a>(0,ACTION,p);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__receptor.html#ga80c1796d444a4085537ba54c2d7b10e6">_r_add_listener</a>(r,DEFAULT_ASPECT,HTTP_REQUEST,expect,act);</div>
<div class="line"></div>
<div class="line">    result = <a class="code" href="group__receptor.html#gaa6111b5348cffbc1e1aad1d9d6c1e4ff">_r_deliver</a>(r,signal);</div>
<div class="line">    <span class="comment">//    spec_is_symbol_equal(r,_t_symbol(result),HTTP_RESPONSE);</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// the result should be signal tree with the matched PATH_SEGMENT returned as the body</span></div>
<div class="line">    spec_is_str_equal(_td(r,result),<span class="stringliteral">&quot;(SIGNALS (SIGNAL (ENVELOPE (RECEPTOR_XADDR:RECEPTOR_XADDR.4) (RECEPTOR_XADDR:RECEPTOR_XADDR.3) (ASPECT:1)) (BODY:{(HTTP_RESPONSE (HTTP_RESPONSE_CONTENT_TYPE:CeptrSymbol/HTTP_REQUEST_PATH_SEGMENT) (HTTP_REQUEST_PATH_SEGMENT:groups))})))&quot;</span>);</div>
<div class="line">    <a class="code" href="group__tree.html#ga31e55cdc031e5f12523b998e89080db6">_t_free</a>(result);</div>
<div class="line">    <a class="code" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a>(r);</div>
</div><!-- fragment --><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>move this to adding the runtree to the thread pool </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>runtime error handing!!! </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000016">Todo:</a></b></dt><dd>we shouldn't assume that all reductions are response signals... but this will take coordination with the _p_reduce, to tell us which signals result </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00476">476</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6f650808029d4c598ebe6515d9900ef8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _r_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys a receptor freeing all memory it uses. </p>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00124">124</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gadc618904f81240b244e816234d1c906e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structT.html">T</a>* _r_get_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structXaddr.html">Xaddr</a>&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>retrieve the instance for a given xaddr</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>the receptor context in which things are defined </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>the xaddr of the instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the instance tree</dd></dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"></div><!-- fragment -->
<p>Definition at line <a class="el" href="receptor_8c_source.html#l00374">374</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaba7efd4ebd9a5e6b737355fbc45d9a50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSemanticID.html">Structure</a> _r_get_structure_by_label </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>find a structure by its label </p>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00221">221</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gacce906c9de30765f458599777b72be90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSemanticID.html">Symbol</a> _r_get_symbol_by_label </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>find a symbol by its label </p>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00214">214</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1570f1fca510bdaf19d044592ee035ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TreeHash _r_hash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structXaddr.html">Xaddr</a>&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>get the hash of a tree by <a class="el" href="structXaddr.html">Xaddr</a> </p>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00392">392</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga33902456689b691f4094c48bd676ed68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _r_install_protocol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Aspect&#160;</td>
          <td class="paramname"><em>aspect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Install listeners on an aspect for a given role in a protocol</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>the receptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idx</td><td>the index of the protocol in the definition tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">role</td><td>the name of the role to install </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aspect</td><td>the aspect on which to install listeners for this protocol</td></tr>
  </table>
  </dd>
</dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"><div class="line">    <a class="code" href="structSemanticID.html">Symbol</a> ping;</div>
<div class="line">    <a class="code" href="structReceptor.html">Receptor</a> *r = _makePingProtocolReceptor(&amp;ping);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__receptor.html#ga33902456689b691f4094c48bd676ed68">_r_install_protocol</a>(r,1,<span class="stringliteral">&quot;server&quot;</span>,DEFAULT_ASPECT);</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">char</span> *d = _td(r,r-&gt;<a class="code" href="structReceptor.html#aec6f1eee133a993b59baf50e75620fb6">root</a>);</div>
<div class="line"></div>
<div class="line">    spec_is_str_equal(d,<span class="stringliteral">&quot;(TEST_RECEPTOR_SYMBOL (DEFINITIONS (STRUCTURES) (SYMBOLS (SYMBOL_DECLARATION (SYMBOL_LABEL:ping) (SYMBOL_STRUCTURE:PROTOCOL)) (SYMBOL_DECLARATION (SYMBOL_LABEL:ping_message) (SYMBOL_STRUCTURE:BIT))) (PROCESSES (PROCESS_CODING (PROCESS_NAME:send ping response) (PROCESS_INTENTION:long desc...) (process:RESPOND (ping_message:1)) (INPUT) (OUTPUT_SIGNATURE))) (PROTOCOLS (ping_message:108 (ROLES (ROLE:server) (ROLE:client)) (INTERACTIONS (INTERACTION (STEP:ping) (FROM_ROLE:client) (TO_ROLE:server) (CARRIER:ping_message) (CARRIER:ping_message) (EXPECTATION (SEMTREX_SYMBOL_LITERAL (SEMTREX_SYMBOL:ping_message))) (ACTION:send ping response) (RESPONSE_STEPS (STEP:ping_response))) (INTERACTION (STEP:ping_response) (FROM_ROLE:server) (TO_ROLE:client) (CARRIER:ping_message) (CARRIER:ping_message) (EXPECTATION (SEMTREX_SYMBOL_LITERAL (SEMTREX_SYMBOL:ping_message))))))) (SCAPES)) (ASPECTS (ASPECT_DEF (ASPECT_TYPE:0) (CARRIER:ping_message) (CARRIER:ping_message))) (FLUX (ASPECT:1 (LISTENERS (LISTENER:ping_message (EXPECTATION (SEMTREX_SYMBOL_LITERAL (SEMTREX_SYMBOL:ping_message))) (ACTION:send ping response))) (SIGNALS))))&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// delivering a fake signal should return a ping</span></div>
<div class="line">    <a class="code" href="structXaddr.html">Xaddr</a> f = {RECEPTOR_XADDR,3};  <span class="comment">// DUMMY XADDR</span></div>
<div class="line">    <a class="code" href="structXaddr.html">Xaddr</a> t = {RECEPTOR_XADDR,4};  <span class="comment">// DUMMY XADDR</span></div>
<div class="line">    <a class="code" href="structT.html">T</a> *signal = <a class="code" href="group__receptor.html#ga475101caa9d56e6398d93dc3b4c9b616">__r_make_signal</a>(f,t,DEFAULT_ASPECT,<a class="code" href="group__tree.html#gacca3c33cbc32d7e28bdc3c40bb330c23">_t_newi</a>(0,ping,0));</div>
<div class="line"></div>
<div class="line">    d = _td(r,signal);</div>
<div class="line">    spec_is_str_equal(d,<span class="stringliteral">&quot;(SIGNAL (ENVELOPE (RECEPTOR_XADDR:RECEPTOR_XADDR.3) (RECEPTOR_XADDR:RECEPTOR_XADDR.4) (ASPECT:1)) (BODY:{(ping_message:0)}))&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structT.html">T</a> *result = <a class="code" href="group__receptor.html#gaa6111b5348cffbc1e1aad1d9d6c1e4ff">_r_deliver</a>(r,signal);</div>
<div class="line">    d = _td(r,result);</div>
<div class="line">    spec_is_str_equal(d,<span class="stringliteral">&quot;(SIGNALS (SIGNAL (ENVELOPE (RECEPTOR_XADDR:RECEPTOR_XADDR.4) (RECEPTOR_XADDR:RECEPTOR_XADDR.3) (ASPECT:1)) (BODY:{(ping_message:1)})))&quot;</span>);</div>
<div class="line">    <a class="code" href="group__tree.html#ga31e55cdc031e5f12523b998e89080db6">_t_free</a>(result);</div>
<div class="line">    <a class="code" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a>(r);</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="receptor_8c_source.html#l00291">291</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga62c253e7cc1d1ad20471913ae822ebc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structReceptor.html">Receptor</a>* _r_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSemanticID.html">Symbol</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new receptor. </p>
<p>allocates all the memory needed in the heap</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>symbol for this receptor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to a newly allocated <a class="el" href="structReceptor.html">Receptor</a></dd></dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"><div class="line">    <a class="code" href="structReceptor.html">Receptor</a> *<a class="code" href="structVMHost.html#a218d2e91e129dee7c71e1b06ff533a6e">r</a>;</div>
<div class="line">    r = <a class="code" href="group__receptor.html#ga62c253e7cc1d1ad20471913ae822ebc2">_r_new</a>(TEST_RECEPTOR_SYMBOL);</div>
<div class="line"></div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#ga946600fb570f0cc913450905f6189d49">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#aec6f1eee133a993b59baf50e75620fb6">root</a>),TEST_RECEPTOR_SYMBOL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structT.html">T</a> *t,*d;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// test that the symbols, structures &amp; process trees are set up correctly</span></div>
<div class="line">    d = _t_child(r-&gt;<a class="code" href="structReceptor.html#aec6f1eee133a993b59baf50e75620fb6">root</a>,1);</div>
<div class="line">    t = _t_child(d,1);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#ga946600fb570f0cc913450905f6189d49">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#a6f9d3b3e38fff31326b7d27f730ae95c">structures</a>),STRUCTURES);</div>
<div class="line">    spec_is_ptr_equal(t,r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#a6f9d3b3e38fff31326b7d27f730ae95c">structures</a>);</div>
<div class="line">    t = _t_child(d,2);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#ga946600fb570f0cc913450905f6189d49">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#a172e45e131e197571ba1a36a136d35f8">symbols</a>),SYMBOLS);</div>
<div class="line">    spec_is_ptr_equal(t,r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#a172e45e131e197571ba1a36a136d35f8">symbols</a>);</div>
<div class="line">    t = _t_child(d,3);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#ga946600fb570f0cc913450905f6189d49">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#a80e876ed085ca3f40c11c6dced4bff9a">processes</a>),PROCESSES);</div>
<div class="line">    spec_is_ptr_equal(t,r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#a80e876ed085ca3f40c11c6dced4bff9a">processes</a>);</div>
<div class="line">    t = _t_child(d,4);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#ga946600fb570f0cc913450905f6189d49">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#aa0cf913c12ec27ee0027c64ee146c27d">protocols</a>),PROTOCOLS);</div>
<div class="line">    spec_is_ptr_equal(t,r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#aa0cf913c12ec27ee0027c64ee146c27d">protocols</a>);</div>
<div class="line">    t = _t_child(d,5);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#ga946600fb570f0cc913450905f6189d49">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#a2c74d8ba3b0f1972a6527cb96c0be65d">scapes</a>),SCAPES);</div>
<div class="line">    spec_is_ptr_equal(t,r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>.<a class="code" href="structDefs.html#a2c74d8ba3b0f1972a6527cb96c0be65d">scapes</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// test that listeners and signals are set up correctly on the default aspect</span></div>
<div class="line">    t = __r_get_listeners(r,DEFAULT_ASPECT);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#ga946600fb570f0cc913450905f6189d49">_t_symbol</a>(t),LISTENERS);</div>
<div class="line">    t = __r_get_signals(r,DEFAULT_ASPECT);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#ga946600fb570f0cc913450905f6189d49">_t_symbol</a>(t),SIGNALS);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// test that the aspects specs are set up correctly</span></div>
<div class="line">    t = _t_child(r-&gt;<a class="code" href="structReceptor.html#aec6f1eee133a993b59baf50e75620fb6">root</a>,2);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#ga946600fb570f0cc913450905f6189d49">_t_symbol</a>(t),ASPECTS);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// test that the flux is set up correctly</span></div>
<div class="line">    t = _t_child(r-&gt;<a class="code" href="structReceptor.html#aec6f1eee133a993b59baf50e75620fb6">root</a>,3);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#ga946600fb570f0cc913450905f6189d49">_t_symbol</a>(r-&gt;<a class="code" href="structReceptor.html#af8aee3ef6d1d93b80427faa57e6f1468">flux</a>),FLUX);</div>
<div class="line">    spec_is_ptr_equal(t,r-&gt;<a class="code" href="structReceptor.html#af8aee3ef6d1d93b80427faa57e6f1468">flux</a>);</div>
<div class="line">    t = _t_child(r-&gt;<a class="code" href="structReceptor.html#af8aee3ef6d1d93b80427faa57e6f1468">flux</a>,1);</div>
<div class="line">    spec_is_symbol_equal(r,<a class="code" href="group__tree.html#ga946600fb570f0cc913450905f6189d49">_t_symbol</a>(t),ASPECT);</div>
<div class="line">    spec_is_equal(*(<span class="keywordtype">int</span> *)<a class="code" href="group__tree.html#gac9278e540a0d63526b60cc0591283a62">_t_surface</a>(t),DEFAULT_ASPECT);</div>
<div class="line"></div>
<div class="line">    spec_is_str_equal(t2s(r-&gt;<a class="code" href="structReceptor.html#aec6f1eee133a993b59baf50e75620fb6">root</a>),<span class="stringliteral">&quot;(TEST_RECEPTOR_SYMBOL (DEFINITIONS (STRUCTURES) (SYMBOLS) (PROCESSES) (PROTOCOLS) (SCAPES)) (ASPECTS) (FLUX (ASPECT:1 (LISTENERS) (SIGNALS))))&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a>(r);</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="receptor_8c_source.html#l00050">50</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="gadd08a3c284251a2ec7e03b8f91eddc5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structXaddr.html">Xaddr</a> _r_new_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new instance of a tree</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>the receptor context in which things are defined </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>the tree to instantiate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>xaddr of the instance</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo:</a></b></dt><dd>currently stores instances in a hash of hashes, this will later be handled by interacting with the data-engine.</dd></dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"></div><!-- fragment -->
<p>Definition at line <a class="el" href="receptor_8c_source.html#l00336">336</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7a6afdc039a31cdf24bf93dd0475b72b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structReceptor.html">Receptor</a>* _r_new_receptor_from_package </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSemanticID.html">Symbol</a>&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structT.html">T</a> *&#160;</td>
          <td class="paramname"><em>bindings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new receptor from a receptor package. </p>
<p>allocates all the memory needed in the heap, cloning the various parts from the package and binding the new receptor to the provided bindings</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>symbol for this receptor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to a newly allocated <a class="el" href="structReceptor.html">Receptor</a> </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>implement bindings </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00081">81</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3e737841784555574a0d90ad2eff4cc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _r_serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structReceptor.html">Receptor</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>surfaceP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>lengthP</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Serialize a receptor</p>
<p>Allocates a buffer for and serializes a receptor into the buffer</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td><a class="el" href="structReceptor.html">Receptor</a> to serialize </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">surfaceP</td><td>pointer to a void * to hold the resulting serialized data </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">lengthP</td><td>pointer to a size_t to hold the resulting serialized data length</td></tr>
  </table>
  </dd>
</dl>
<p><b>Examples (from test suite):</b> </p><div class="fragment"><div class="line"></div>
<div class="line">    <a class="code" href="structReceptor.html">Receptor</a> *r = <a class="code" href="group__receptor.html#ga62c253e7cc1d1ad20471913ae822ebc2">_r_new</a>(TEST_RECEPTOR_SYMBOL);</div>
<div class="line">    <a class="code" href="structSemanticID.html">Symbol</a> lat,lon,house_loc;</div>
<div class="line">    <a class="code" href="structSemanticID.html">Structure</a> latlong;</div>
<div class="line">    <a class="code" href="receptor__spec_8h.html#a98dc4c2784ade9388f0b5aad95d78aae">defineHouseLocation</a>(r,&amp;lat,&amp;lon,&amp;latlong,&amp;house_loc);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// create a house location tree</span></div>
<div class="line">    <a class="code" href="structT.html">T</a> *t = <a class="code" href="group__tree.html#ga25dd0f385044ffbcc7c215ea80fa00b4">_t_new_root</a>(house_loc);</div>
<div class="line">    <span class="keywordtype">float</span> ll[] = {132.5,92.3};</div>
<div class="line">    <a class="code" href="structT.html">T</a> *t_lat = <a class="code" href="group__tree.html#ga6ecbb70ce62a6c61f04ff8d0707101e4">_t_new</a>(t,lat,&amp;ll[0],<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line">    <a class="code" href="structT.html">T</a> *t_lon = <a class="code" href="group__tree.html#ga6ecbb70ce62a6c61f04ff8d0707101e4">_t_new</a>(t,lon,&amp;ll[1],<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structXaddr.html">Xaddr</a> x = <a class="code" href="group__receptor.html#gadd08a3c284251a2ec7e03b8f91eddc5c">_r_new_instance</a>(r,t);</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">void</span> *surface;</div>
<div class="line">    <span class="keywordtype">size_t</span> length;</div>
<div class="line">    <span class="keywordtype">char</span> buf[2000];</div>
<div class="line">    <span class="keywordtype">char</span> buf1[2000];</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__receptor.html#ga3e737841784555574a0d90ad2eff4cc4">_r_serialize</a>(r,&amp;surface,&amp;length);</div>
<div class="line"></div>
<div class="line">    spec_is_long_equal(length,250);</div>
<div class="line">    spec_is_long_equal(*(<span class="keywordtype">size_t</span> *)surface,250);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structReceptor.html">Receptor</a> *r1 = <a class="code" href="group__receptor.html#ga300b11b12792c290fef2fb0fe07d71ee">_r_unserialize</a>(surface);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// check that the structures look the same by comparing a string dump of the two</span></div>
<div class="line">    <span class="comment">// receptors</span></div>
<div class="line">    __t_dump(&amp;r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>,r-&gt;<a class="code" href="structReceptor.html#aec6f1eee133a993b59baf50e75620fb6">root</a>,0,buf);</div>
<div class="line">    __t_dump(&amp;r1-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>,r1-&gt;<a class="code" href="structReceptor.html#aec6f1eee133a993b59baf50e75620fb6">root</a>,0,buf1);</div>
<div class="line">    spec_is_str_equal(buf1,buf);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// check that the unserialized receptor has the labels loaded into the label table</span></div>
<div class="line">    <span class="keywordtype">int</span> *path = labelGet(&amp;r1-&gt;<a class="code" href="structReceptor.html#a2f7dc587ff971db209316cde561d0cd0">table</a>,<span class="stringliteral">&quot;latitude&quot;</span>);</div>
<div class="line">    <span class="keywordtype">int</span> p[] = {2,1,TREE_PATH_TERMINATOR};</div>
<div class="line">    spec_is_path_equal(path,p);</div>
<div class="line">    spec_is_sem_equal(<a class="code" href="group__receptor.html#gacce906c9de30765f458599777b72be90">_r_get_symbol_by_label</a>(r1,<span class="stringliteral">&quot;latitude&quot;</span>),lat);</div>
<div class="line">    spec_is_sem_equal(<a class="code" href="group__receptor.html#gaba7efd4ebd9a5e6b737355fbc45d9a50">_r_get_structure_by_label</a>(r1,<span class="stringliteral">&quot;latlong&quot;</span>),latlong);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// check that the unserialized receptor has all the instances loaded into the instance store too</span></div>
<div class="line">    <a class="code" href="structT.html">T</a> *t1 = <a class="code" href="group__receptor.html#gadc618904f81240b244e816234d1c906e">_r_get_instance</a>(r1,x);</div>
<div class="line">    buf[0] = buf1[0] = 0;</div>
<div class="line">    __t_dump(&amp;r-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>,t,0,buf);</div>
<div class="line">    __t_dump(&amp;r1-&gt;<a class="code" href="structReceptor.html#a56e5e37eb23a3e5debf7f24723eca9ed">defs</a>,t1,0,buf1);</div>
<div class="line">    spec_is_str_equal(buf1,buf);</div>
<div class="line"></div>
<div class="line">    free(surface);</div>
<div class="line">    <a class="code" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a>(r);</div>
<div class="line">    <a class="code" href="group__receptor.html#ga6f650808029d4c598ebe6515d9900ef8">_r_free</a>(r1);</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="receptor_8c_source.html#l00410">410</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga300b11b12792c290fef2fb0fe07d71ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structReceptor.html">Receptor</a>* _r_unserialize </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>surface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unserialize a receptor</p>
<p>Given a serialized receptor, return an instantiated receptor tree with label table</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">surface</td><td>serialized receptor data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structReceptor.html">Receptor</a> </dd></dl>

<p>Definition at line <a class="el" href="receptor_8c_source.html#l00425">425</a> of file <a class="el" href="receptor_8c_source.html">receptor.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Apr 16 2015 11:33:18 for ceptr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
